NAME="LikewiseIdentityServiceEnterprise"
FULL_NAME="Likewise Identity Service [Enterprise]"
DESCRIPTION="Provides integration with Active Directory."
_BITROCK_DESCRIPTION="Interoperability software to allow non-Windows systems to use Microsoft Active Directory." # unused
_MAC_DESCRIPTION="Provides integration with Active Directory." # unused
FILES="EULA README"
SCRIPT="../install.sh"
UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown

PACKAGES="\
    krb5 openldap libxml2 sqlite base lwreg\
    pstore netlogon lwio rpc eventlog eventfwd reapsysl lsass \
    srvsvc domainjoin grouppolicy lwadutil lwupgrade"
OBSOLETE_PACKAGES="lwmgmt"

DAEMONS="lwsmd lwregd netlogond lwiod dcerpcd eventlogd eventfwdd reapsysld lsassd gpagentd"
OBSOLETE_DAEMONS="lwmgmtd lwrdrd npcmuxd likewise-open centeris.com-lwiauthd centeris.com-gpagentd"
# lwregd is started elsewhere since it must be started first.
AUTOSTART=""
REGFILES="lwreg.reg netlogond.reg eventlogd.reg lsassd.reg lwiod.reg dcerpcd.reg srvsvcd.reg gpagentd.reg eventfwd.reg reapsysl.reg grouppolicy.reg pstore.reg"



case "${BUILD_OS_TYPE}" in
    linux)
        PACKAGES="$PACKAGES passwd"
        check_is_rhel_21
        if [ $? -ne 0 ]; then
            PACKAGES="$PACKAGES mod-auth-kerb"
        fi
        ;;
    freebsd|aix|hpux)
        PACKAGES="$PACKAGES passwd"
        ;;
    solaris)
        PACKAGES="$PACKAGES passwd mod-auth-kerb"
        ;;
    darwin)
        case "$UNAME_RELEASE" in
            8.*)
                PACKAGES="$PACKAGES lwedsplugin domainjoin-gui mod-auth-kerb"
                ;;
            9.*)
                PACKAGES="$PACKAGES lwedsplugin domainjoin-gui mod-auth-kerb"
                ;;
            10.*)
                PACKAGES="$PACKAGES lwedsplugin domainjoin-gui"
                ;;
        esac
esac
