<project>
    <shortName>$${SHORT_NAME}</shortName>
    <fullName>$${FULL_NAME}</fullName>
    <version>$${VERSION}</version>
    <installerFilename>$${OUTPUT_FILENAME}</installerFilename>
    <readmeFile></readmeFile>
    <licenseFile>$${PRODUCT_ROOT}/EULA</licenseFile>
    <wrapLicenseFileText>0</wrapLicenseFileText>
    <leftImage></leftImage>
    <logoImage>$${BITROCK_ROOT}/likewise.gif</logoImage>
    <splashImage></splashImage>
    <defaultLanguage>en</defaultLanguage>
    <allowLanguageSelection>0</allowLanguageSelection>
    <postInstallationScript>${installdir}/install.sh</postInstallationScript>
    <postInstallationScriptArguments>--ubuntu install</postInstallationScriptArguments>
    <showPostInstallationScriptResult>0</showPostInstallationScriptResult>
    <preUninstallationScript></preUninstallationScript>
    <preUninstallationScriptArguments></preUninstallationScriptArguments>
    <allowedLanguages></allowedLanguages>
    <cdromPlatforms></cdromPlatforms>
    <defaultInstallationMode></defaultInstallationMode>
    <defaultUnixDirectoryPermissions>755</defaultUnixDirectoryPermissions>
    <defaultUnixFilePermissions>644</defaultUnixFilePermissions>
    <description>Interoperability software to allow non-Windows systems to use Microsoft Active Directory</description>
    <outputDirectory>$${OUTPUT_DIRECTORY}</outputDirectory>
    <projectSchemaVersion>1.2</projectSchemaVersion>
    <requireInstallationByRootUser>1</requireInstallationByRootUser>
    <saveRelativePaths>1</saveRelativePaths>
    <slideShowLoop>1</slideShowLoop>
    <slideShowTiming>5</slideShowTiming>
    <startMenuGroupName>${product_fullname}</startMenuGroupName>
    <style>standard</style>
    <summary>
        Likewise enables non-Windows computers to work with Microsoft Active Directory. This program installs the 
        Likewise Agent in order to enable single sign-on, group policy and other features.
    </summary>
    <uninstallerDirectory>${installdir}</uninstallerDirectory>
    <uninstallerName>uninstall</uninstallerName>
    <validatorProgram></validatorProgram>
    <vendor>Likewise</vendor>
    <componentList>
        <component>
            <name>Agent</name>
            <description>Likewise Agent</description>
            <canBeEdited>1</canBeEdited>
            <detailedDescription>
                The Likewise Agent enables single sign-on, group policy and other features that
                interact with Microsoft Active Directory.
            </detailedDescription>
            <selected>1</selected>
            <show>1</show>
            <desktopShortcutList>
                <shortcut>
                    <comment>Likewise QA Tools</comment>
                    <exec>/opt/likewise/bin/test_authstress</exec>
                    <icon>${installdir}/likewise.gif</icon>
                    <name>Likewise QA Tools</name>
                    <path></path>
                    <platforms>linux</platforms>
                    <windowsExec></windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon></windowsIcon>
                    <windowsPath></windowsPath>
                </shortcut>
            </desktopShortcutList>
            <folderList>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfiles</name>
                    <platforms>all</platforms>
                    <shortcutList>
                        <shortcut>
                            <comment>Uninstall</comment>
                            <exec>${installdir}/${uninstallerName}</exec>
                            <icon></icon>
                            <name>Uninstall ${product_fullname}</name>
                            <path>${installdir}</path>
                            <platforms>all</platforms>
                            <windowsExec>${installdir}/${uninstallerName}.exe</windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon></windowsIcon>
                            <windowsPath>${installdir}</windowsPath>
                        </shortcut>
                    </shortcutList>
                    <distributionFileList>
                        <distributionFile>
                            <origin>$${BITROCK_ROOT}/likewise.gif</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>$${BITROCK_ROOT}/installwrap.sh</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>$${PRODUCT_ROOT}/EULA</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>$${MANIFEST}</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>$${PRODUCT_ROOT}/LICENSES</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>$${ALL_PRODUCTS_ROOT}/install.sh</origin>
                        </distributionFile>
                        <distributionDirectory>
                            <origin>/.${env(PACKAGEDIR)}</origin>
                        </distributionDirectory>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfileslinux</name>
                    <platforms>linux</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>$${PRODUCT_ROOT}/README</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfileslinuxx64</name>
                    <platforms>linux-x64</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>$${PRODUCT_ROOT}/README</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfilesaix</name>
                    <platforms>aix</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>$${BITROCK_ROOT}/platforms/aix/README</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfilessolaris</name>
                    <platforms>solaris-sparc</platforms>
                    <distributionFileList>
                      <distributionFile>
                        <origin>$${BITROCK_ROOT}/platforms/solaris-sparc/README</origin>
                      </distributionFile>
                      <distributionFile>
                        <origin>$${BITROCK_ROOT}/platforms/solaris-sparc/response</origin>
                      </distributionFile>
                    </distributionFileList>
                </folder>
            </folderList>
            <postInstallationActionList/>
            <startMenuShortcutList/>
        </component>
    </componentList>
    <customLanguageFileList/>
    <fileList/>
    <finalPageActionList/>
    <parameterList>
        <directoryParameter>
            <name>installdir</name>
            <title></title>
            <description>Installer.Parameter.installdir.description</description>
            <explanation>Installer.Parameter.installdir.explanation</explanation>
            <value>$${INSTALLDIR}</value>
            <default>$${INSTALLDIR}</default>
            <allowEmptyValue>0</allowEmptyValue>
            <ask>no</ask>
            <cliOptionName>prefix</cliOptionName>
            <leftImage></leftImage>
            <mustBeWritable>yes</mustBeWritable>
            <mustExist>0</mustExist>
            <width>30</width>
        </directoryParameter>
        <choiceParameter>
            <name>compatlibs</name>
            <ask>$${ASKABOUT32BITLIBS}</ask>
            <default>auto</default>
            <title>32-bit Compatbility Libraries</title>
            <cliOptionText>Install 32-bit compatibility libraries</cliOptionText>
            <explanation>Should the 32-bit compatibility libraries be installed? These are only needed if 32-bit programs will be accessing the Likewise authentication code. If you do not know the answer, just leave it as &quot;Auto&quot;.</explanation>
            <value>auto</value>
            <displayType>radiobuttons</displayType>
            <optionList>
                <option>
                    <value>auto</value>
                    <text>Auto</text>
                </option>
                <option>
                    <value>yes</value>
                    <text>Yes</text>
                </option>
                <option>
                    <value>no</value>
                    <text>No</text>
                </option>
            </optionList>
        </choiceParameter>
    </parameterList>
    <platformOptionsList>
        <platformOptions>
<!--
            <installerFilename>${product_shortname}-${product_version}-${platform_name}-installer</installerFilename>
            <platform>solaris-sparc</platform>
-->
        </platformOptions>
    </platformOptionsList>
    <postInstallationActionList>
        <runProgram>
            <program>${installdir}/installwrap.sh</program>
            <programArguments>${installdir} install ${compatlibs} &gt; /tmp/lwidentity.install.log 2&gt;&amp;1</programArguments>
            <customErrorMessage>
Errors were encountered while installing the Likewise packages. More information about these errors can be found in /tmp/lwidentity.install.log. Note that although the installer will terminate normally, that Likewise may not function properly.</customErrorMessage>
            <abortOnError>1</abortOnError>
        </runProgram>
        <readFile>
            <path>${installdir}/README</path>
            <name>readme</name>
        </readFile>
        <showInfo>
            <text>${readme}</text>
        </showInfo>
    </postInstallationActionList>
    <postUninstallationActionList/>
    <preBuildActionList/>
    <preInstallationActionList>
	<runProgram>
		<program>rm</program>
		<programArguments>-rf ${installdir}/packages</programArguments>
	</runProgram>
	<getFreeDiskSpace>
	  <variable>diskspace</variable>
	  <path>${installdir}</path>
	</getFreeDiskSpace>
	<throwError>
          <text>Not enough disk space in ${installdir}.  Aborting installation.</text>
          <ruleList>
	    <compareValues>
	      <value1>${diskspace}</value1>
	      <logic>less</logic>
	      <value2>51200</value2>
	    </compareValues>
          </ruleList>
        </throwError>
    </preInstallationActionList>
    <preUninstallationActionList>
        <runProgram>
            <program>${installdir}/installwrap.sh</program>
            <programArguments>${installdir} uninstall ${compatlibs} &gt; /tmp/lwidentity.uninstall.log 2&gt;&amp;1</programArguments>
        </runProgram>
    </preUninstallationActionList>
    <slideShowImageList/>
</project>
